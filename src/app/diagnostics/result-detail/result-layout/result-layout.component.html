<app-back-button></app-back-button>

<div class="title main" [ngClass]="result.state">
  <i class="material-icons">{{stateIcon(result.state)}}</i>
  <div class="name">{{title(result.testName, result.state)}}</div>
</div>
<div class="time">started at {{result.startedAt | date:'yyyy-MM-dd HH:mm:ss'}} updated at {{result.updatedAt | date:'yyyy-MM-dd HH:mm:ss'}}</div>

<div class="overview">
  <span class="rate">Success/Total: {{success}}/{{success + failure}} Success Rate: {{success / (success + failure) | percent}}</span>
  <chart type="doughnut" [data]="overviewData" [options]="overviewOption"></chart>
</div>

<div class="summary" *ngIf="result.summary">
  <ng-container *ngTemplateOutlet="summaryTemplate; context: result.summary"></ng-container>
</div>

<div class="nodes">
  <div class="node" *ngFor="let node of result.nodes">
    <div class="title" [ngClass]="node.state">
      <i class="material-icons md-18">{{stateIcon(node.state)}}</i>
      <span class="name">{{title(node.name, node.state)}}</span>
    </div>
    <div class="details">
      <ng-container *ngTemplateOutlet="nodeTemplate; context: node"></ng-container>
    </div>
  </div>
</div>

